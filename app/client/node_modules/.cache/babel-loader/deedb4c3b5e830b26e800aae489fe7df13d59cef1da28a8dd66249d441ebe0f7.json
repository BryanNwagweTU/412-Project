{"ast":null,"code":"var _jsxFileName = \"/Users/shane/Downloads/412-Project-main/app/client/src/App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport MessageList from './components/MessageList';\nimport MessageInput from './components/MessageInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COURSES = ['Computer Science 2', 'Databases and Algorithms', 'Software Engineering', 'Operating Systems'];\nconst API_BASE_URL = 'http://localhost:3001/api';\nfunction App() {\n  _s();\n  // State: authentication and user\n  const [username, setUsername] = useState('');\n  const [userId, setUserId] = useState(null);\n  const [isNameSet, setIsNameSet] = useState(false);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Apply dark-mode class to body element\n  useEffect(() => {\n    if (isDarkMode) {\n      document.body.classList.add('dark-mode');\n    } else {\n      document.body.classList.remove('dark-mode');\n    }\n  }, [isDarkMode]);\n\n  // State: messages organized by course\n  const [messagesByCourse, setMessagesByCourse] = useState({\n    'Computer Science 2': [],\n    'Databases and Algorithms': [],\n    'Software Engineering': [],\n    'Operating Systems': []\n  });\n\n  // Fetch messages for a specific course from database\n  const fetchMessagesForCourse = async course => {\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/messages?course=${encodeURIComponent(course)}&limit=100`);\n      if (!response.ok) throw new Error('Failed to fetch messages');\n      const messages = await response.json();\n\n      // Transform database messages to match our format\n      const transformedMessages = messages.map(msg => ({\n        id: msg.id,\n        user: msg.username,\n        text: msg.message_text,\n        timestamp: new Date(msg.created_at).toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }));\n      setMessagesByCourse(prev => ({\n        ...prev,\n        [course]: transformedMessages\n      }));\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Function to add a new message to current course and save to database\n  const addMessage = async text => {\n    if (!selectedCourse || !userId) return;\n    try {\n      const response = await fetch(`${API_BASE_URL}/messages`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          message_text: text,\n          course_name: selectedCourse\n        })\n      });\n      if (!response.ok) throw new Error('Failed to save message');\n      const savedMessage = await response.json();\n      const newMessage = {\n        id: savedMessage.id,\n        user: savedMessage.username,\n        text: savedMessage.message_text,\n        timestamp: new Date(savedMessage.created_at).toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      };\n      setMessagesByCourse(prev => ({\n        ...prev,\n        [selectedCourse]: [...(prev[selectedCourse] || []), newMessage]\n      }));\n    } catch (error) {\n      console.error('Error adding message:', error);\n      alert('Failed to send message. Please try again.');\n    }\n  };\n\n  // Handle username submission - create or retrieve user in database\n  const handleUsernameSubmit = async () => {\n    if (!username.trim()) return;\n    try {\n      setLoading(true);\n      // Try to create a new user\n      const response = await fetch(`${API_BASE_URL}/users`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: username.trim()\n        })\n      });\n      if (response.ok) {\n        const user = await response.json();\n        setUserId(user.id);\n        setIsNameSet(true);\n      } else if (response.status === 409) {\n        // Username already exists, fetch the user\n        const usersResponse = await fetch(`${API_BASE_URL}/users`);\n        const users = await usersResponse.json();\n        const existingUser = users.find(u => u.username === username.trim());\n        if (existingUser) {\n          setUserId(existingUser.id);\n          setIsNameSet(true);\n        }\n      } else {\n        throw new Error('Failed to create user');\n      }\n    } catch (error) {\n      console.error('Error with user submission:', error);\n      alert('Failed to join. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle course selection and fetch messages\n  const handleCourseSelect = course => {\n    setSelectedCourse(course);\n    fetchMessagesForCourse(course);\n  };\n\n  // Handle going back to course selection\n  const handleBackToCourses = () => {\n    setSelectedCourse(null);\n  };\n\n  // Screen 1: Name prompt\n  if (!isNameSet) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `App ${isDarkMode ? 'dark-mode' : 'light-mode'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"theme-toggle\",\n        onClick: () => setIsDarkMode(!isDarkMode),\n        children: isDarkMode ? '‚òÄÔ∏è' : 'üåô'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to Section Connection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter your name\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && handleUsernameSubmit(),\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUsernameSubmit,\n          disabled: loading,\n          children: loading ? 'Joining...' : 'Continue'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Screen 2: Course selection\n  if (!selectedCourse) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `App ${isDarkMode ? 'dark-mode' : 'light-mode'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"theme-toggle\",\n        onClick: () => setIsDarkMode(!isDarkMode),\n        children: isDarkMode ? '‚òÄÔ∏è' : 'üåô'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome, \", username, \"!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 33\n        }, this), \"Towson University\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Select a course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-selection\",\n        children: COURSES.map(course => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"course-button\",\n          onClick: () => handleCourseSelect(course),\n          children: course\n        }, course, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Screen 3: Chatroom\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `App ${isDarkMode ? 'dark-mode' : 'light-mode'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"theme-toggle\",\n      onClick: () => setIsDarkMode(!isDarkMode),\n      children: isDarkMode ? '‚òÄÔ∏è' : 'üåô'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatroom-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: selectedCourse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Logged in as: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-button\",\n        onClick: handleBackToCourses,\n        children: \"\\u2190 Back to Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        textAlign: 'center'\n      },\n      children: \"Loading messages...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(MessageList, {\n      messages: messagesByCourse[selectedCourse] || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 100\n    }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n      addMessage: addMessage,\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+9vsgeTBWfDHx8RuAM/vTR5xXrc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","MessageList","MessageInput","jsxDEV","_jsxDEV","COURSES","API_BASE_URL","App","_s","username","setUsername","userId","setUserId","isNameSet","setIsNameSet","selectedCourse","setSelectedCourse","isDarkMode","setIsDarkMode","loading","setLoading","document","body","classList","add","remove","messagesByCourse","setMessagesByCourse","fetchMessagesForCourse","course","response","fetch","encodeURIComponent","ok","Error","messages","json","transformedMessages","map","msg","id","user","text","message_text","timestamp","Date","created_at","toLocaleTimeString","hour","minute","prev","error","console","addMessage","method","headers","JSON","stringify","user_id","course_name","savedMessage","newMessage","alert","handleUsernameSubmit","trim","status","usersResponse","users","existingUser","find","u","handleCourseSelect","handleBackToCourses","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onKeyPress","key","disabled","style","padding","textAlign","_c","$RefreshReg$"],"sources":["/Users/shane/Downloads/412-Project-main/app/client/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport MessageList from './components/MessageList';\nimport MessageInput from './components/MessageInput';\n\nconst COURSES = [\n  'Computer Science 2',\n  'Databases and Algorithms',\n  'Software Engineering',\n  'Operating Systems'\n];\n\nconst API_BASE_URL = 'http://localhost:3001/api';\n\nfunction App() {\n  // State: authentication and user\n  const [username, setUsername] = useState('');\n  const [userId, setUserId] = useState(null);\n  const [isNameSet, setIsNameSet] = useState(false);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Apply dark-mode class to body element\n  useEffect(() => {\n    if (isDarkMode) {\n      document.body.classList.add('dark-mode');\n    } else {\n      document.body.classList.remove('dark-mode');\n    }\n  }, [isDarkMode]);\n\n  // State: messages organized by course\n  const [messagesByCourse, setMessagesByCourse] = useState({\n    'Computer Science 2': [],\n    'Databases and Algorithms': [],\n    'Software Engineering': [],\n    'Operating Systems': []\n  });\n\n  // Fetch messages for a specific course from database\n  const fetchMessagesForCourse = async (course) => {\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/messages?course=${encodeURIComponent(course)}&limit=100`);\n      if (!response.ok) throw new Error('Failed to fetch messages');\n      \n      const messages = await response.json();\n      \n      // Transform database messages to match our format\n      const transformedMessages = messages.map(msg => ({\n        id: msg.id,\n        user: msg.username,\n        text: msg.message_text,\n        timestamp: new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }));\n      \n      setMessagesByCourse(prev => ({\n        ...prev,\n        [course]: transformedMessages\n      }));\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Function to add a new message to current course and save to database\n  const addMessage = async (text) => {\n    if (!selectedCourse || !userId) return;\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/messages`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          message_text: text,\n          course_name: selectedCourse\n        })\n      });\n\n      if (!response.ok) throw new Error('Failed to save message');\n\n      const savedMessage = await response.json();\n      \n      const newMessage = {\n        id: savedMessage.id,\n        user: savedMessage.username,\n        text: savedMessage.message_text,\n        timestamp: new Date(savedMessage.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      };\n\n      setMessagesByCourse(prev => ({\n        ...prev,\n        [selectedCourse]: [...(prev[selectedCourse] || []), newMessage]\n      }));\n    } catch (error) {\n      console.error('Error adding message:', error);\n      alert('Failed to send message. Please try again.');\n    }\n  };\n\n  // Handle username submission - create or retrieve user in database\n  const handleUsernameSubmit = async () => {\n    if (!username.trim()) return;\n\n    try {\n      setLoading(true);\n      // Try to create a new user\n      const response = await fetch(`${API_BASE_URL}/users`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username: username.trim() })\n      });\n\n      if (response.ok) {\n        const user = await response.json();\n        setUserId(user.id);\n        setIsNameSet(true);\n      } else if (response.status === 409) {\n        // Username already exists, fetch the user\n        const usersResponse = await fetch(`${API_BASE_URL}/users`);\n        const users = await usersResponse.json();\n        const existingUser = users.find(u => u.username === username.trim());\n        if (existingUser) {\n          setUserId(existingUser.id);\n          setIsNameSet(true);\n        }\n      } else {\n        throw new Error('Failed to create user');\n      }\n    } catch (error) {\n      console.error('Error with user submission:', error);\n      alert('Failed to join. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle course selection and fetch messages\n  const handleCourseSelect = (course) => {\n    setSelectedCourse(course);\n    fetchMessagesForCourse(course);\n  };\n\n  // Handle going back to course selection\n  const handleBackToCourses = () => {\n    setSelectedCourse(null);\n  };\n\n  // Screen 1: Name prompt\n  if (!isNameSet) {\n    return (\n      <div className={`App ${isDarkMode ? 'dark-mode' : 'light-mode'}`}>\n        <button className=\"theme-toggle\" onClick={() => setIsDarkMode(!isDarkMode)}>\n          {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}\n        </button>\n        <h1>Welcome to Section Connection</h1>\n        <div className=\"name-input-container\">\n          <input\n            type=\"text\"\n            placeholder=\"Enter your name\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && handleUsernameSubmit()}\n            disabled={loading}\n          />\n          <button onClick={handleUsernameSubmit} disabled={loading}>\n            {loading ? 'Joining...' : 'Continue'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Screen 2: Course selection\n  if (!selectedCourse) {\n    return (\n      <div className={`App ${isDarkMode ? 'dark-mode' : 'light-mode'}`}>\n        <button className=\"theme-toggle\" onClick={() => setIsDarkMode(!isDarkMode)}>\n          {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}\n        </button>\n        <h1>Welcome, {username}!<br></br>Towson University</h1>\n        <h2>Select a course</h2>\n        <div className=\"course-selection\">\n          {COURSES.map((course) => (\n            <button\n              key={course}\n              className=\"course-button\"\n              onClick={() => handleCourseSelect(course)}\n            >\n              {course}\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // Screen 3: Chatroom\n  return (\n    <div className={`App ${isDarkMode ? 'dark-mode' : 'light-mode'}`}>\n      <button className=\"theme-toggle\" onClick={() => setIsDarkMode(!isDarkMode)}>\n        {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}\n      </button>\n      <div className=\"chatroom-header\">\n        <h1>{selectedCourse}</h1>\n        <p>Logged in as: <strong>{username}</strong></p>\n        <button className=\"back-button\" onClick={handleBackToCourses}>‚Üê Back to Courses</button>\n      </div>\n      {loading ? <div style={{ padding: '20px', textAlign: 'center' }}>Loading messages...</div> : <MessageList messages={messagesByCourse[selectedCourse] || []} />}\n      <MessageInput addMessage={addMessage} disabled={loading} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,WAAW;AAClB,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,YAAY,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,OAAO,GAAG,CACd,oBAAoB,EACpB,0BAA0B,EAC1B,sBAAsB,EACtB,mBAAmB,CACpB;AAED,MAAMC,YAAY,GAAG,2BAA2B;AAEhD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACgB,cAAc,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACkB,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACAC,SAAS,CAAC,MAAM;IACd,IAAIiB,UAAU,EAAE;MACdI,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;IAC1C,CAAC,MAAM;MACLH,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAC,WAAW,CAAC;IAC7C;EACF,CAAC,EAAE,CAACR,UAAU,CAAC,CAAC;;EAEhB;EACA,MAAM,CAACS,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5B,QAAQ,CAAC;IACvD,oBAAoB,EAAE,EAAE;IACxB,0BAA0B,EAAE,EAAE;IAC9B,sBAAsB,EAAE,EAAE;IAC1B,mBAAmB,EAAE;EACvB,CAAC,CAAC;;EAEF;EACA,MAAM6B,sBAAsB,GAAG,MAAOC,MAAM,IAAK;IAC/C,IAAI;MACFT,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGzB,YAAY,oBAAoB0B,kBAAkB,CAACH,MAAM,CAAC,YAAY,CAAC;MACvG,IAAI,CAACC,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAE7D,MAAMC,QAAQ,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;;MAEtC;MACA,MAAMC,mBAAmB,GAAGF,QAAQ,CAACG,GAAG,CAACC,GAAG,KAAK;QAC/CC,EAAE,EAAED,GAAG,CAACC,EAAE;QACVC,IAAI,EAAEF,GAAG,CAAC9B,QAAQ;QAClBiC,IAAI,EAAEH,GAAG,CAACI,YAAY;QACtBC,SAAS,EAAE,IAAIC,IAAI,CAACN,GAAG,CAACO,UAAU,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;UAAEC,IAAI,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAU,CAAC;MACnG,CAAC,CAAC,CAAC;MAEHtB,mBAAmB,CAACuB,IAAI,KAAK;QAC3B,GAAGA,IAAI;QACP,CAACrB,MAAM,GAAGQ;MACZ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,SAAS;MACR/B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACA,MAAMiC,UAAU,GAAG,MAAOX,IAAI,IAAK;IACjC,IAAI,CAAC3B,cAAc,IAAI,CAACJ,MAAM,EAAE;IAEhC,IAAI;MACF,MAAMmB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGzB,YAAY,WAAW,EAAE;QACvDgD,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDjC,IAAI,EAAEkC,IAAI,CAACC,SAAS,CAAC;UACnBC,OAAO,EAAE/C,MAAM;UACfgC,YAAY,EAAED,IAAI;UAClBiB,WAAW,EAAE5C;QACf,CAAC;MACH,CAAC,CAAC;MAEF,IAAI,CAACe,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;MAE3D,MAAM0B,YAAY,GAAG,MAAM9B,QAAQ,CAACM,IAAI,CAAC,CAAC;MAE1C,MAAMyB,UAAU,GAAG;QACjBrB,EAAE,EAAEoB,YAAY,CAACpB,EAAE;QACnBC,IAAI,EAAEmB,YAAY,CAACnD,QAAQ;QAC3BiC,IAAI,EAAEkB,YAAY,CAACjB,YAAY;QAC/BC,SAAS,EAAE,IAAIC,IAAI,CAACe,YAAY,CAACd,UAAU,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;UAAEC,IAAI,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAU,CAAC;MAC5G,CAAC;MAEDtB,mBAAmB,CAACuB,IAAI,KAAK;QAC3B,GAAGA,IAAI;QACP,CAACnC,cAAc,GAAG,CAAC,IAAImC,IAAI,CAACnC,cAAc,CAAC,IAAI,EAAE,CAAC,EAAE8C,UAAU;MAChE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CW,KAAK,CAAC,2CAA2C,CAAC;IACpD;EACF,CAAC;;EAED;EACA,MAAMC,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI,CAACtD,QAAQ,CAACuD,IAAI,CAAC,CAAC,EAAE;IAEtB,IAAI;MACF5C,UAAU,CAAC,IAAI,CAAC;MAChB;MACA,MAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGzB,YAAY,QAAQ,EAAE;QACpDgD,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDjC,IAAI,EAAEkC,IAAI,CAACC,SAAS,CAAC;UAAEhD,QAAQ,EAAEA,QAAQ,CAACuD,IAAI,CAAC;QAAE,CAAC;MACpD,CAAC,CAAC;MAEF,IAAIlC,QAAQ,CAACG,EAAE,EAAE;QACf,MAAMQ,IAAI,GAAG,MAAMX,QAAQ,CAACM,IAAI,CAAC,CAAC;QAClCxB,SAAS,CAAC6B,IAAI,CAACD,EAAE,CAAC;QAClB1B,YAAY,CAAC,IAAI,CAAC;MACpB,CAAC,MAAM,IAAIgB,QAAQ,CAACmC,MAAM,KAAK,GAAG,EAAE;QAClC;QACA,MAAMC,aAAa,GAAG,MAAMnC,KAAK,CAAC,GAAGzB,YAAY,QAAQ,CAAC;QAC1D,MAAM6D,KAAK,GAAG,MAAMD,aAAa,CAAC9B,IAAI,CAAC,CAAC;QACxC,MAAMgC,YAAY,GAAGD,KAAK,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC7D,QAAQ,KAAKA,QAAQ,CAACuD,IAAI,CAAC,CAAC,CAAC;QACpE,IAAII,YAAY,EAAE;UAChBxD,SAAS,CAACwD,YAAY,CAAC5B,EAAE,CAAC;UAC1B1B,YAAY,CAAC,IAAI,CAAC;QACpB;MACF,CAAC,MAAM;QACL,MAAM,IAAIoB,KAAK,CAAC,uBAAuB,CAAC;MAC1C;IACF,CAAC,CAAC,OAAOiB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDW,KAAK,CAAC,mCAAmC,CAAC;IAC5C,CAAC,SAAS;MACR1C,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACA,MAAMmD,kBAAkB,GAAI1C,MAAM,IAAK;IACrCb,iBAAiB,CAACa,MAAM,CAAC;IACzBD,sBAAsB,CAACC,MAAM,CAAC;EAChC,CAAC;;EAED;EACA,MAAM2C,mBAAmB,GAAGA,CAAA,KAAM;IAChCxD,iBAAiB,CAAC,IAAI,CAAC;EACzB,CAAC;;EAED;EACA,IAAI,CAACH,SAAS,EAAE;IACd,oBACET,OAAA;MAAKqE,SAAS,EAAE,OAAOxD,UAAU,GAAG,WAAW,GAAG,YAAY,EAAG;MAAAyD,QAAA,gBAC/DtE,OAAA;QAAQqE,SAAS,EAAC,cAAc;QAACE,OAAO,EAAEA,CAAA,KAAMzD,aAAa,CAAC,CAACD,UAAU,CAAE;QAAAyD,QAAA,EACxEzD,UAAU,GAAG,IAAI,GAAG;MAAI;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACT3E,OAAA;QAAAsE,QAAA,EAAI;MAA6B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtC3E,OAAA;QAAKqE,SAAS,EAAC,sBAAsB;QAAAC,QAAA,gBACnCtE,OAAA;UACE4E,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,iBAAiB;UAC7BC,KAAK,EAAEzE,QAAS;UAChB0E,QAAQ,EAAGC,CAAC,IAAK1E,WAAW,CAAC0E,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC7CI,UAAU,EAAGF,CAAC,IAAKA,CAAC,CAACG,GAAG,KAAK,OAAO,IAAIxB,oBAAoB,CAAC,CAAE;UAC/DyB,QAAQ,EAAErE;QAAQ;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACF3E,OAAA;UAAQuE,OAAO,EAAEZ,oBAAqB;UAACyB,QAAQ,EAAErE,OAAQ;UAAAuD,QAAA,EACtDvD,OAAO,GAAG,YAAY,GAAG;QAAU;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,IAAI,CAAChE,cAAc,EAAE;IACnB,oBACEX,OAAA;MAAKqE,SAAS,EAAE,OAAOxD,UAAU,GAAG,WAAW,GAAG,YAAY,EAAG;MAAAyD,QAAA,gBAC/DtE,OAAA;QAAQqE,SAAS,EAAC,cAAc;QAACE,OAAO,EAAEA,CAAA,KAAMzD,aAAa,CAAC,CAACD,UAAU,CAAE;QAAAyD,QAAA,EACxEzD,UAAU,GAAG,IAAI,GAAG;MAAI;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACT3E,OAAA;QAAAsE,QAAA,GAAI,WAAS,EAACjE,QAAQ,EAAC,GAAC,eAAAL,OAAA;UAAAwE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,qBAAiB;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvD3E,OAAA;QAAAsE,QAAA,EAAI;MAAe;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxB3E,OAAA;QAAKqE,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAC9BrE,OAAO,CAACiC,GAAG,CAAET,MAAM,iBAClBzB,OAAA;UAEEqE,SAAS,EAAC,eAAe;UACzBE,OAAO,EAAEA,CAAA,KAAMJ,kBAAkB,CAAC1C,MAAM,CAAE;UAAA6C,QAAA,EAEzC7C;QAAM,GAJFA,MAAM;UAAA+C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKL,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,oBACE3E,OAAA;IAAKqE,SAAS,EAAE,OAAOxD,UAAU,GAAG,WAAW,GAAG,YAAY,EAAG;IAAAyD,QAAA,gBAC/DtE,OAAA;MAAQqE,SAAS,EAAC,cAAc;MAACE,OAAO,EAAEA,CAAA,KAAMzD,aAAa,CAAC,CAACD,UAAU,CAAE;MAAAyD,QAAA,EACxEzD,UAAU,GAAG,IAAI,GAAG;IAAI;MAAA2D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC,eACT3E,OAAA;MAAKqE,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BtE,OAAA;QAAAsE,QAAA,EAAK3D;MAAc;QAAA6D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACzB3E,OAAA;QAAAsE,QAAA,GAAG,gBAAc,eAAAtE,OAAA;UAAAsE,QAAA,EAASjE;QAAQ;UAAAmE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAChD3E,OAAA;QAAQqE,SAAS,EAAC,aAAa;QAACE,OAAO,EAAEH,mBAAoB;QAAAE,QAAA,EAAC;MAAiB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrF,CAAC,EACL5D,OAAO,gBAAGf,OAAA;MAAKqF,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAS,CAAE;MAAAjB,QAAA,EAAC;IAAmB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,gBAAG3E,OAAA,CAACH,WAAW;MAACkC,QAAQ,EAAET,gBAAgB,CAACX,cAAc,CAAC,IAAI;IAAG;MAAA6D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9J3E,OAAA,CAACF,YAAY;MAACmD,UAAU,EAAEA,UAAW;MAACmC,QAAQ,EAAErE;IAAQ;MAAAyD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxD,CAAC;AAEV;AAACvE,EAAA,CA9MQD,GAAG;AAAAqF,EAAA,GAAHrF,GAAG;AAgNZ,eAAeA,GAAG;AAAC,IAAAqF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}